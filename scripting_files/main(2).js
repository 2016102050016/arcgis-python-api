require(["SessionManager","dojo/query","dojo/topic","/assets/js/calcite-web.js","/assets/js/documentation/download.js","/assets/js/documentation/blog.js","dojo/NodeList-dom","dojo/NodeList-manipulate","dojo/NodeList-traverse","dojo/_base/event","dojo/domReady!"],function(a,b,c,d){function e(){if(a.loggedIn()){b("body").addClass("logged-in");var c=window.location,d=c.origin,e=i(c.pathname,["sign-up","developer-beta","developer-trial"]),f=i(c.pathname,["applications","usage","hosted-data"]),g=a.isPublicAccount();g&&(e||f)?window.location=d+"/downloads/":!g&&e&&(window.location=d+"/applications/")}}function f(){window.hljs&&Array.prototype.forEach&&hljs.initHighlighting()}function g(){c.subscribe("session:organization",function(){b("[data-user-avatar]").forEach(function(c){var d=b(c).attr("data-user-avatar")[0];c.src=a.avatar(d)}),b("[data-first-name]").text(a.firstName()),b("[data-full-name]").text(a.profile.fullName),b("[data-username]").text(a.username()),b("[data-profile-link]").attr("href",a.developerSubscription()?"/account/profile":a.orgUrl()+"/home/user.html")}),a.loggedIn()&&"ontouchstart"in window&&b("#logged-in-navigation a").first().on("click",function(a){a.preventDefault()});var d=SiteConfig.portal+"/rest/oauth2/signout?redirect_uri="+SiteConfig.destination;b(".js-log-out").attr("href",d)}function h(){a.loggedIn()&&a.developerSubscription()&&b(".js-account-settings").removeClass("hide")}function i(a,b){for(var c=0;c<b.length;c++)if(a.match(b[c]))return!0;return!1}d.init(),window.calcite=d,esri.config.defaults.io.proxyUrl="/proxy",window.console||!function(){var a=function(){},b=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var c=0;c<b.length;c++)window.console[b[c]]=a}(),b("body").on("click",function(a){var c=b("#down-arrow"),d=b(".logo-wrap");a.target==c[0]&&"visible"!==siteNav[0].className?d.addClass("expanded"):d.removeClass("expanded")}),e(),f(),g(),a.organization||c.subscribe("session:organization",function(){h()})});